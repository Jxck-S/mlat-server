version: '3.8'

services:
  mlat-server:
    build: .
    container_name: mlat-server
    restart: always
    ports:
      - "31090:31090" # Client input (Beast/Raw)
      - "30104:30104" # BaseStation output
      - "8080:8080"   # HTTP File Server (sync.json, clients.json, etc)
    environment:
      - HTTP_PORT=8080
      - WORK_DIR=/run/mlat-server
    # Command arguments are passed directly to mlat-server via docker-entrypoint.sh
    # Update --lat, --lon, --alt with your receiver's approximate location if needed
    command: >
      --client-listen 31090
      --filtered-basestation-listen 30104
      --work-dir /run/mlat-server
